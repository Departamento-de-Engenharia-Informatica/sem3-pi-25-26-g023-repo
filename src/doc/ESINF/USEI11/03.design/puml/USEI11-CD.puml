@startuml ClassDiagram

title USEI11 - Class Diagram


' Entidades Principais
class UpgradePlanningUI {
    runAnalysis()
    displayResults(result: AnalysisResult)
}

class UpgradeController {
    getUpgradeOrder(graphId: String): AnalysisResult
}

class Station {
    String id
    String name
    int inDegree
    getId(): String
}

class TrackDependency {
    String sourceId
    String targetId
    double weight
    getSource(): Station
    getTarget(): Station
}

class RailwayGraph {
    Map<String, Station> vertices
    List<TrackDependency> edges
    topologicalSort(): List<Station>
    findCycles(): List<Cycle>
    isDAG(): boolean
}

class AnalysisResult {
    List<Station> schedule
    List<Cycle> detectedCycles
    String complexityReport
    hasCycles(): boolean
}

class Cycle {
    List<Station> involvedStations
    List<TrackDependency> involvedLinks
}

' Relacionamentos
UpgradePlanningUI ..> UpgradeController
UpgradeController ..> RailwayGraph
UpgradeController ..> AnalysisResult

RailwayGraph "1" *-- "many" Station : contains >
RailwayGraph "1" *-- "many" TrackDependency : consists of >
TrackDependency "many" --> "1" Station : starts at >
TrackDependency "many" --> "1" Station : ends at >

RailwayGraph ..> AnalysisResult : creates >
AnalysisResult "1" *-- "0..*" Cycle : identifies >

@enduml