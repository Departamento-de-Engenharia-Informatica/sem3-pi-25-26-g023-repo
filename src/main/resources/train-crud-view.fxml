<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import java.lang.String?>

<VBox alignment="TOP_CENTER" spacing="15.0" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="pt.ipp.isep.dei.UI.gui.views.TrainCRUDController">
    <padding>
        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
    </padding>

    <Label styleClass="header-label" text="Train CRUD Management" />

    <GridPane hgap="15.0" vgap="10.0" style="-fx-border-color: #ddd; -fx-border-radius: 5; -fx-padding: 15;">
        <columnConstraints>
            <ColumnConstraints hgrow="SOMETIMES" minWidth="100.0" prefWidth="150.0" />
            <ColumnConstraints hgrow="SOMETIMES" minWidth="100.0" prefWidth="250.0" />
            <ColumnConstraints hgrow="SOMETIMES" minWidth="100.0" prefWidth="150.0" />
            <ColumnConstraints hgrow="SOMETIMES" minWidth="100.0" prefWidth="250.0" />
        </columnConstraints>

        <Label text="Train ID:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
        <TextField fx:id="trainIdField" promptText="e.g., 5437" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

        <Label text="Operator ID:" GridPane.rowIndex="0" GridPane.columnIndex="2"/>
        <ComboBox fx:id="operatorIdCombo" promptText="Select Operator" maxWidth="Infinity" GridPane.rowIndex="0" GridPane.columnIndex="3"/>

        <Label text="Departure Date:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
        <DatePicker fx:id="departureDateField" maxWidth="Infinity" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

        <Label text="Departure Time (HH:mm:ss):" GridPane.rowIndex="1" GridPane.columnIndex="2"/>
        <TextField fx:id="departureTimeField" promptText="e.g., 10:30:00" GridPane.rowIndex="1" GridPane.columnIndex="3"/>

        <Label text="Start Facility:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
        <ComboBox fx:id="startFacilityCombo" promptText="Select Origin" maxWidth="Infinity" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

        <Label text="End Facility:" GridPane.rowIndex="2" GridPane.columnIndex="2"/>
        <ComboBox fx:id="endFacilityCombo" promptText="Select Destination" maxWidth="Infinity" GridPane.rowIndex="2" GridPane.columnIndex="3"/>

        <Label text="Locomotive ID:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
        <ComboBox fx:id="locomotiveIdCombo" promptText="Select Locomotive" maxWidth="Infinity" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

        <Label text="Route ID:" GridPane.rowIndex="3" GridPane.columnIndex="2"/>
        <ComboBox fx:id="routeIdCombo" promptText="Select Route" maxWidth="Infinity" GridPane.rowIndex="3" GridPane.columnIndex="3"/>

    </GridPane>

    <HBox alignment="CENTER_LEFT" spacing="10.0">
        <Button fx:id="saveButton" text="Create Train" onAction="#saveOrUpdateTrain" styleClass="run-button"/>
        <Button text="Delete Selected" onAction="#deleteTrain" styleClass="delete-button"/>
        <Button text="Clear Form" onAction="#clearForm" styleClass="clear-button"/>
        <ProgressIndicator fx:id="progressIndicator" visible="false" />
    </HBox>

    <Label text="Existing Trains:" />

    <TableView fx:id="trainTable" VBox.vgrow="ALWAYS" prefHeight="350.0">
        <columns>
            <TableColumn text="Train ID" fx:id="idColumn" prefWidth="100.0" />
            <TableColumn text="Operator ID" fx:id="operatorColumn" prefWidth="100.0" />
            <TableColumn text="Departure Time" fx:id="departureColumn" prefWidth="180.0" />
            <TableColumn text="Start Facility" fx:id="startFacilityColumn" prefWidth="100.0" />
            <TableColumn text="End Facility" fx:id="endFacilityColumn" prefWidth="100.0" />
        </columns>
        <placeholder>
            <Label text="Loading trains..." />
        </placeholder>
    </TableView>

</VBox>